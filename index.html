<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handwriting Practice Generator</title>
    
    <!-- Google Fonts - 100+ Handwriting/Cursive Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Allura&family=Arizonia&family=Alex+Brush&family=Architects+Daughter&family=Bad+Script&family=Ballet&family=Berkshire+Swash&family=Bilbo&family=Bilbo+Swash+Caps&family=Caveat&family=Charm&family=Courgette&family=Damion&family=Dancing+Script&family=Dawning+of+a+New+Day&family=Dekko&family=Delius&family=Devonshire&family=Dr+Sugiyama&family=Eagle+Lake&family=Engagement&family=Ephesis&family=Euphoria+Script&family=Felipa&family=Fondamento&family=Give+You+Glory&family=Gloria+Hallelujah&family=Grand+Hotel&family=Great+Vibes&family=Homemade+Apple&family=Indie+Flower&family=Italianno&family=Just+Another+Hand&family=Kalam&family=Kaushan+Script&family=Kristi&family=La+Belle+Aurore&family=League+Script&family=Leckerli+One&family=Liu+Jian+Mao+Cao&family=Lobster&family=Lobster+Two&family=Long+Cang&family=Loved+by+the+King&family=Lovers+Quarrel&family=Ma+Shan+Zheng&family=Marck+Script&family=Meddon&family=Meie+Script&family=Merienda&family=Miss+Fajardose&family=Monsieur+La+Doulaise&family=Montez&family=Mr+Dafoe&family=Mr+De+Haviland&family=Mrs+Saint+Delafield&family=Mrs+Sheppards&family=Nanum+Pen+Script&family=Neucha&family=Norican&family=Nothing+You+Could+Do&family=Over+the+Rainbow&family=Pacifico&family=Parisienne&family=Passero+One&family=Patrick+Hand&family=Permanent+Marker&family=Petit+Formal+Script&family=Pinyon+Script&family=Princess+Sofia&family=Qwigley&family=Rancho&family=Reenie+Beanie&family=Rochester&family=Rock+Salt&family=Rosarivo&family=Rouge+Script&family=Ruge+Boogie&family=Ruthie&family=Sacramento&family=Satisfy&family=Schoolbell&family=Sedgwick+Ave&family=Shadows+Into+Light&family=Shojumaru&family=Smooch&family=Snippet&family=Sofadi+One&family=Sofia&family=Stalemate&family=Sue+Ellen+Francisco&family=Sunshiney&family=Swanky+and+Moo+Moo&family=Tangerine&family=The+Girl+Next+Door&family=Tillana&family=Vibur&family=Vollkorn&family=Walter+Turncoat&family=Yellowtail&family=Yeseva+One&family=Zeyada&family=Zhi+Mang+Xing&family=Playwrite+AU+NSW&family=Playwrite+AU+VIC&family=Playwrite+BE+VLG&family=Playwrite+CL&family=Playwrite+CU&family=Playwrite+DE+Grund&family=Playwrite+GB+S&family=Playwrite+IN&family=Playwrite+IT+Moderna&family=Playwrite+MX&family=Playwrite+NZ&family=Playwrite+US+Modern&family=Borel&family=Gideon+Roman&family=Handlee&family=Julee&family=Klee+One&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="sun-icon">‚òÄÔ∏è</span>
        <span class="moon-icon">üåô</span>
    </button>

    <div class="container">
        <h1>‚úçÔ∏è Handwriting Practice</h1>
        <p class="subtitle">Generate beautiful practice worksheets</p>
        <div class="stats-badge" id="stats-badge">
            <span class="stats-icon">üìä</span>
            <span id="download-count">Loading...</span> worksheets generated
        </div>

        <div class="form-group">
            <label for="font-select">Choose Font Style</label>
            <select id="font-select">
                <!-- Fonts will be populated by JavaScript -->
            </select>
            <div class="font-count" id="font-count"></div>
        </div>

        <div class="form-group">
            <label for="language-select">Language/Alphabet</label>
            <select id="language-select">
                <option value="english">English</option>
                <option value="spanish">Spanish (Espa√±ol)</option>
                <option value="french">French (Fran√ßais)</option>
                <option value="german">German (Deutsch)</option>
                <option value="italian">Italian (Italiano)</option>
                <option value="portuguese">Portuguese (Portugu√™s)</option>
            </select>
        </div>

        <div class="form-group">
            <label for="text-mode-select">Text Mode</label>
            <select id="text-mode-select">
                <option value="preset">Preset Content</option>
                <option value="custom">Custom Text</option>
            </select>
        </div>

        <div class="form-group" id="custom-text-group" style="display: none;">
            <label for="custom-text-input">Your Custom Text</label>
            <textarea id="custom-text-input" placeholder="Type your text here... (e.g., practice sentences, names, vocabulary words)" rows="4"></textarea>
            <div class="char-count"><span id="char-count">0</span> / 500 characters</div>
        </div>

        <div class="form-group">
            <label for="content-select">Practice Content</label>
            <select id="content-select">
                <option value="pangram">Pangram Only</option>
                <option value="alphabet">Alphabet Only</option>
                <option value="numbers">Numbers Only</option>
                <option value="lowercase">Lowercase Only</option>
                <option value="common">Common Words Only</option>
                <option value="combined" selected>All Combined (Recommended)</option>
            </select>
            <div class="content-info">üí° "All Combined" includes pangram, alphabet, numbers & lowercase</div>
        </div>

        <div class="form-group">
            <label for="pages-select">Number of Pages</label>
            <select id="pages-select">
                <option value="1">1 Page</option>
                <option value="5">5 Pages</option>
                <option value="10" selected>10 Pages (Recommended)</option>
                <option value="20">20 Pages (Full Workbook)</option>
            </select>
            <div class="pages-info">üìÑ Estimated size: <span id="size-estimate">~2 MB</span></div>
        </div>

        <div class="form-group">
            <label for="size-select">Text Height Size</label>
            <select id="size-select">
                <option value="0.5">0.5 cm (Small)</option>
                <option value="0.6">0.6 cm</option>
                <option value="0.7">0.7 cm</option>
                <option value="0.8">0.8 cm</option>
                <option value="0.9" selected>0.9 cm (Recommended)</option>
                <option value="1.0">1.0 cm (Large)</option>
            </select>
        </div>

        <div class="form-group">
            <label>Line Color</label>
            <div class="color-options">
                <label class="color-option">
                    <input type="radio" name="line-color" value="#000000" checked>
                    <span class="color-swatch" style="background: #000000;"></span>
                    <span class="color-label">Black</span>
                </label>
                <label class="color-option">
                    <input type="radio" name="line-color" value="#2a5298">
                    <span class="color-swatch" style="background: #2a5298;"></span>
                    <span class="color-label">Blue</span>
                </label>
                <label class="color-option">
                    <input type="radio" name="line-color" value="#666666">
                    <span class="color-swatch" style="background: #666666;"></span>
                    <span class="color-label">Gray</span>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label>Text Color</label>
            <div class="color-options">
                <label class="color-option">
                    <input type="radio" name="text-color" value="#c0c0c0" checked>
                    <span class="color-swatch" style="background: #c0c0c0;"></span>
                    <span class="color-label">Light Gray</span>
                </label>
                <label class="color-option">
                    <input type="radio" name="text-color" value="#d3d3d3">
                    <span class="color-swatch" style="background: #d3d3d3;"></span>
                    <span class="color-label">Very Light</span>
                </label>
                <label class="color-option">
                    <input type="radio" name="text-color" value="#a8c5e6">
                    <span class="color-swatch" style="background: #a8c5e6;"></span>
                    <span class="color-label">Light Blue</span>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label>Background Color</label>
            <div class="color-options">
                <label class="color-option">
                    <input type="radio" name="bg-color" value="#ffffff" checked>
                    <span class="color-swatch" style="background: #ffffff; border: 1px solid #ddd;"></span>
                    <span class="color-label">White</span>
                </label>
                <label class="color-option">
                    <input type="radio" name="bg-color" value="#fffef0">
                    <span class="color-swatch" style="background: #fffef0;"></span>
                    <span class="color-label">Cream</span>
                </label>
                <label class="color-option">
                    <input type="radio" name="bg-color" value="#f0f8ff">
                    <span class="color-swatch" style="background: #f0f8ff;"></span>
                    <span class="color-label">Light Blue</span>
                </label>
            </div>
        </div>

        <div class="preview-section">
            <div class="preview-label">Font Preview</div>
            <div class="preview-text" id="preview">The quick brown fox</div>
        </div>

        <button id="preview-btn" class="btn-secondary" style="margin-bottom: 10px;">üëÅÔ∏è Preview PDF</button>
        <button id="generate-btn">üìÑ Download PDF Worksheet</button>

        <!-- AI Handwriting Analysis Section -->
        <div class="ai-analysis-section">
            <h2>üì∏ AI Handwriting Analysis (Beta)</h2>
            <p class="ai-subtitle">Upload a photo of your handwriting to get AI feedback</p>
            
            <div class="upload-area" id="upload-area">
                <input type="file" id="handwriting-upload" accept="image/*" style="display: none;">
                <label for="handwriting-upload" class="upload-label">
                    <span class="upload-icon">üì§</span>
                    <span class="upload-text">Click to upload or drag & drop</span>
                    <span class="upload-hint">JPG, PNG, or HEIC (max 5MB)</span>
                </label>
            </div>
            
            <div id="image-preview" style="display: none;">
                <img id="preview-image" alt="Uploaded handwriting">
                <button id="analyze-btn" class="btn-secondary">üîç Analyze Handwriting</button>
            </div>
            
            <div id="analysis-result" style="display: none;">
                <h3>Analysis Results:</h3>
                <div id="analysis-content"></div>
            </div>
        </div>
    </div>

    <!-- Email Verification Modal -->
    <div class="modal" id="email-modal">
        <div class="modal-content">
            <h2 class="modal-title">üìß Verify Your Email</h2>
            <p class="modal-subtitle">Enter your email to receive a verification code</p>
            
            <div class="form-group">
                <label for="user-email">Email Address</label>
                <input type="email" id="user-email" placeholder="your@email.com" required>
                <div class="error-message" id="email-error">Please enter a valid email address</div>
            </div>

            <div class="modal-buttons">
                <button class="btn-secondary" id="cancel-btn">Cancel</button>
                <button id="send-code-btn">Send Code</button>
            </div>
        </div>
    </div>

    <!-- Verification Code Modal -->
    <div class="modal" id="code-modal">
        <div class="modal-content">
            <h2 class="modal-title">üîê Enter Verification Code</h2>
            <p class="modal-subtitle">We sent a 6-digit code to <strong id="display-email"></strong></p>
            
            <div class="form-group">
                <label for="verification-code">Verification Code</label>
                <input type="text" id="verification-code" placeholder="000000" maxlength="6" inputmode="numeric" pattern="[0-9]*" required>
                <div class="error-message" id="code-error">Invalid code. Please try again.</div>
            </div>

            <div class="resend-code">
                Didn't receive code? <button class="link-btn" id="resend-code-btn">Resend</button>
            </div>

            <div class="modal-buttons">
                <button class="btn-secondary" id="code-cancel-btn">Cancel</button>
                <button id="verify-code-btn">Verify & Download</button>
            </div>
        </div>
    </div>

    <!-- PDF Preview Modal -->
    <div class="modal" id="preview-modal">
        <div class="modal-content preview-modal-content">
            <div class="preview-header">
                <h2 class="modal-title">üìÑ PDF Preview</h2>
                <button class="close-preview" id="close-preview-btn">‚úï</button>
            </div>
            
            <div class="preview-container">
                <div class="preview-watermark-overlay">PREVIEW</div>
                <canvas id="preview-canvas"></canvas>
            </div>
            
            <div class="preview-info">
                <p><strong>Font:</strong> <span id="preview-font-name"></span></p>
                <p><strong>Content:</strong> <span id="preview-content-name"></span></p>
                <p><strong>Pages:</strong> <span id="preview-pages-name"></span></p>
                <p><strong>Text Size:</strong> <span id="preview-size-name"></span></p>
                <p><strong>Estimated File Size:</strong> <span id="preview-file-size"></span></p>
            </div>

            <div class="modal-buttons">
                <button class="btn-secondary" id="preview-close-btn">Close Preview</button>
                <button id="preview-download-btn">‚úÖ Looks Good - Download</button>
            </div>
        </div>
    </div>

    <!-- Buy Me a Coffee Modal -->
    <div id="a4-container"></div>
    <div class="modal" id="coffee-modal">
        <div class="modal-content coffee-content">
            <h2 class="modal-title">‚òï Enjoying the app?</h2>
            <p class="modal-subtitle">Your worksheet is ready! If you found this helpful, consider buying me a coffee!</p>
            
            <div class="coffee-message">
                <p>Creating and maintaining this free tool takes time and effort. Your support helps keep it running and ad-free! üíñ</p>
            </div>

            <div class="modal-buttons">
                <button class="btn-secondary" id="coffee-close-btn">Maybe Later</button>
                <a href="https://www.buymeacoffee.com/ndukaanthonya" target="_blank" rel="noopener noreferrer">
                    <button id="coffee-support-btn">‚òï Buy Me a Coffee</button>
                </a>
            </div>

            <p class="coffee-footer">Thank you for your support! üôè</p>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>